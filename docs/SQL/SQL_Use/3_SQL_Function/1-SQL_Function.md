---
title: SQL函数（一）
date: 2024/12/16
---

<img src="https://roaringelephant.org/wp-content/uploads/sites/5/2016/03/SQL.jpg" alt="SQL" height="300" />



## SQL 函数

SQL 拥有很多可用于计数和计算的内建函数

### 1 SQL Aggregate 函数

SQL Aggregate 函数计算从列中取得的值，返回一个单一的值。

有用的 Aggregate 函数：

- `AVG()`：返回平均值
- `COUNT()`：返回行数
- `FIRST()`：返回第一个记录的值
- `LAST()`：返回最后一个记录的值
- `MAX()`：返回最大值
- `MIN()`：返回最小值
- `SUM()`：返回总合



### 2 SQL Scalar 函数

SQL Scalar 函数基于输入值，返回一个单一的值。

有用的 Scalar 函数：

- `UCASE()`：将某个字段转换为大写
- `LCASE()`：将某个字段转换为小写
- `MID()`：从某个文本字段提取字符，MySQL 中使用
- `SubString(字段,1,end)`：从某个文本字段提前字符
- `LEN()`：返回某个文本字段的长度
- `ROUND()`：对某个数值字段进行指定小数位数的四舍五入
- `NOW()`：返回当前的系统日期和时间
- `FORMAT()`：格式化某个字段的显示方式





## SQL AVG() 函数

::: tip

AVG() 函数返回数值列的平均值。

:::

### 1 SQL AVG() 语法

```sql
SELECT AVG(column_name) FROM table_name;
```



### 2 演示数据库

`access_log` 表：

```sql
+-----+---------+-------+------------+
| aid | site_id | count | date       |
+-----+---------+-------+------------+
|   1 |       1 |    45 | 2016-05-10 |
|   2 |       3 |   100 | 2016-05-13 |
|   3 |       1 |   230 | 2016-05-14 |
|   4 |       2 |    10 | 2016-05-14 |
|   5 |       5 |   205 | 2016-05-14 |
|   6 |       4 |    13 | 2016-05-15 |
|   7 |       3 |   220 | 2016-05-15 |
|   8 |       5 |   545 | 2016-05-16 |
|   9 |       3 |   201 | 2016-05-17 |
+-----+---------+-------+------------+
```



### 3 SQL AVG() 实例

① 下面的 SQL 语句从 access_log 表的 count 列获取平均值：

**实例**：

```sql
SELECT AVG(count) AS CountAverage FROM access_log;
```

**执行输出结果**：

![img](https://www.runoob.com/wp-content/uploads/2013/09/avg1.jpg)

② 下面的 SQL 语句选择访问量高于平均访问量的 site_id 和 count：

**实例**：

```sql
SELECT site_id,count FROM access_log
WHERE count > (SELECT AVG(count) FROM access_log);
```

**执行输出结果**：

![img](https://www.runoob.com/wp-content/uploads/2013/09/avg2.jpg)













































































































































































































































































































































































































































































































































































































































































































