import{_ as c,c as t,b as a,a as n,d as l,e as i,r as p,o as r}from"./app-CNHi2u4I.js";const d="/assets/image-20250310095601227-BXOcvRXE.png",o="/assets/image-20250310095612017-Cmo2swId.png",m="/assets/image-20250310095639839-DTZ7ilSN.png",u="/assets/image-20250310095647372-CBaYxKss.png",v={},k={href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.aliyun.com/",target:"_blank",rel:"noopener noreferrer"};function b(g,s){const e=p("ExternalLinkIcon");return r(),t("div",null,[s[2]||(s[2]=a('<p><img src="https://bizhi1.com/wp-content/uploads/2025/02/witcher-4-ciri-in-mountain-landscape-wallpaper-4k.jpg" alt="巫师 4 CIRI 在山中风景壁纸 4K"></p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>1 卸载旧版</p><p>2 配置 Docker 的 yum 库</p><p>3 安装 Docker</p><p>4 启动和校验</p><p>5 配置镜像加速</p><p>6 配置镜像加速 (阿里云已停用)</p></div><p>本安装教程参考Docker官方文档，地址如下：</p>',3)),n("p",null,[n("a",k,[s[0]||(s[0]=l("https://docs.docker.com/engine/install/centos/")),i(e)])]),s[3]||(s[3]=a(`<h2 id="_1-卸载旧版" tabindex="-1"><a class="header-anchor" href="#_1-卸载旧版"><span>1 卸载旧版</span></a></h2><p>首先如果系统中已经存在旧的Docker，则先卸载：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span></span>
<span class="line">    docker-client <span class="token punctuation">\\</span></span>
<span class="line">    docker-client-latest <span class="token punctuation">\\</span></span>
<span class="line">    docker-common <span class="token punctuation">\\</span></span>
<span class="line">    docker-latest <span class="token punctuation">\\</span></span>
<span class="line">    docker-latest-logrotate <span class="token punctuation">\\</span></span>
<span class="line">    docker-logrotate <span class="token punctuation">\\</span></span>
<span class="line">    docker-engine <span class="token punctuation">\\</span></span>
<span class="line">    docker-selinux </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-配置-docker-的-yum-库" tabindex="-1"><a class="header-anchor" href="#_2-配置-docker-的-yum-库"><span>2 配置 Docker 的 yum 库</span></a></h2><p>首先要安装一个yum工具</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils device-mapper-persistent-data lvm2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装成功后，执行命令，配置Docker的yum源（已更新为阿里云源）：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s+download.docker.com+mirrors.aliyun.com/docker-ce+&#39;</span> /etc/yum.repos.d/docker-ce.repo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新yum，建立缓存</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum makecache fast</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_3-安装-docker" tabindex="-1"><a class="header-anchor" href="#_3-安装-docker"><span>3 安装 Docker</span></a></h2><p>最后，执行命令，安装Docker</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-启动和校验" tabindex="-1"><a class="header-anchor" href="#_4-启动和校验"><span>4 启动和校验</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 启动Docker</span></span>
<span class="line">systemctl start <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 停止Docker</span></span>
<span class="line">systemctl stop <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line">systemctl restart <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 设置开机自启</span></span>
<span class="line">systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 执行docker ps命令，如果不报错，说明安装启动成功</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-配置镜像加速" tabindex="-1"><a class="header-anchor" href="#_5-配置镜像加速"><span>5 配置镜像加速</span></a></h2><p>镜像地址可能会变更，如果失效可以百度找最新的docker镜像。</p><p>配置镜像步骤如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建目录</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制内容</span></span>
<span class="line"><span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">    &quot;registry-mirrors&quot;: [</span>
<span class="line">        &quot;http://hub-mirror.c.163.com&quot;,</span>
<span class="line">        &quot;https://mirrors.tuna.tsinghua.edu.cn&quot;,</span>
<span class="line">        &quot;http://mirrors.sohu.com&quot;,</span>
<span class="line">        &quot;https://ustc-edu-cn.mirror.aliyuncs.com&quot;,</span>
<span class="line">        &quot;https://ccr.ccs.tencentyun.com&quot;,</span>
<span class="line">        &quot;https://docker.m.daocloud.io&quot;,</span>
<span class="line">        &quot;https://docker.awsl9527.cn&quot;</span>
<span class="line">    ]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line">systemctl daemon-reload</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启Docker</span></span>
<span class="line">systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-配置镜像加速-阿里云已停用" tabindex="-1"><a class="header-anchor" href="#_6-配置镜像加速-阿里云已停用"><span>6 配置镜像加速 (阿里云已停用)</span></a></h2><p>这里以阿里云镜像加速为例。</p><h3 id="_6-1-注册阿里云账号" tabindex="-1"><a class="header-anchor" href="#_6-1-注册阿里云账号"><span>6.1 注册阿里云账号</span></a></h3><p>首先访问阿里云网站:</p>`,23)),n("p",null,[n("a",h,[s[1]||(s[1]=l("https://www.aliyun.com/")),i(e)])]),s[4]||(s[4]=a('<p>注册一个账号。</p><h3 id="_6-2-开通镜像服务" tabindex="-1"><a class="header-anchor" href="#_6-2-开通镜像服务"><span>6.2 开通镜像服务</span></a></h3><p>在首页的产品中，找到阿里云的<strong>容器镜像服务</strong>：</p><p><img src="'+d+'" alt="image-20250310095601227"></p><p>点击后进入控制台：</p><p><img src="'+o+'" alt="image-20250310095612017"></p><p>首次可能需要选择立刻开通，然后进入控制台。</p><h3 id="_6-3-配置镜像加速" tabindex="-1"><a class="header-anchor" href="#_6-3-配置镜像加速"><span>6.3 配置镜像加速</span></a></h3><p>找到<strong>镜像工具</strong>下的<strong>镜像****加速器</strong>：</p><p><img src="'+m+'" alt="image-20250310095639839"></p><p>页面向下滚动，即可找到配置的文档说明：</p><p><img src="'+u+`" alt="image-20250310095647372"></p><p>具体命令如下：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 创建目录</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 复制内容，注意把其中的镜像加速地址改成你自己的</span></span>
<span class="line"><span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;registry-mirrors&quot;: [&quot;https://xxxx.mirror.aliyuncs.com&quot;]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line">systemctl daemon-reload</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启Docker</span></span>
<span class="line">systemctl restart <span class="token function">docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14))])}const y=c(v,[["render",b]]),f=JSON.parse('{"path":"/docs/Java/Heima/Microservices/Day02_Docker/2_Docker_Install/1-Docker_Install.html","title":"安装Docker","lang":"en-US","frontmatter":{"title":"安装Docker","date":"2025/03/06"},"headers":[{"level":2,"title":"1 卸载旧版","slug":"_1-卸载旧版","link":"#_1-卸载旧版","children":[]},{"level":2,"title":"2 配置 Docker 的 yum 库","slug":"_2-配置-docker-的-yum-库","link":"#_2-配置-docker-的-yum-库","children":[]},{"level":2,"title":"3 安装 Docker","slug":"_3-安装-docker","link":"#_3-安装-docker","children":[]},{"level":2,"title":"4 启动和校验","slug":"_4-启动和校验","link":"#_4-启动和校验","children":[]},{"level":2,"title":"5  配置镜像加速","slug":"_5-配置镜像加速","link":"#_5-配置镜像加速","children":[]},{"level":2,"title":"6 配置镜像加速 (阿里云已停用)","slug":"_6-配置镜像加速-阿里云已停用","link":"#_6-配置镜像加速-阿里云已停用","children":[{"level":3,"title":"6.1 注册阿里云账号","slug":"_6-1-注册阿里云账号","link":"#_6-1-注册阿里云账号","children":[]},{"level":3,"title":"6.2 开通镜像服务","slug":"_6-2-开通镜像服务","link":"#_6-2-开通镜像服务","children":[]},{"level":3,"title":"6.3 配置镜像加速","slug":"_6-3-配置镜像加速","link":"#_6-3-配置镜像加速","children":[]}]}],"filePathRelative":"docs/Java/Heima/Microservices/Day02_Docker/2_Docker_Install/1-Docker_Install.md","git":{"createdTime":1741251281000,"updatedTime":1741654623000,"contributors":[{"name":"lixuan","email":"2789968443@qq.com","commits":2}]}}');export{y as comp,f as data};
