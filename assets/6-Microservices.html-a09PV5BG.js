import{_ as i,c as t,b as n,o as r}from"./app-B0LQx5G-.js";const s="/assets/image-20250311111937245-ClBJ3AKy.png",c={};function l(a,e){return r(),t("div",null,e[0]||(e[0]=[n('<p><img src="https://bizhi1.com/wp-content/uploads/2025/01/Winter_Rime_Jungle_River_Nature_Scenery_5K-Wallpaper_5120x2880.jpg" alt="冬季 雾凇 丛林 河流 自然风光 5K"></p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>1 拆分微服务</p><p>2 定义 FeignClient</p><p>3 将微服务与前端联调</p></div><h2 id="_1-拆分微服务" tabindex="-1"><a class="header-anchor" href="#_1-拆分微服务"><span>1 拆分微服务</span></a></h2><p>将hm-service中的其它业务也都拆分为微服务，包括：</p><ul><li>user-service：用户微服务，包含用户登录、管理等功能</li><li>trade-service：交易微服务，包含订单相关功能</li><li>pay-service：支付微服务，包含支付相关功能</li></ul><p>其中交易服务、支付服务、用户服务中的业务都需要知道当前登录用户是谁，目前暂未实现，先将用户id写死。</p><p><strong>思考</strong>：如何才能在每个微服务中都拿到用户信息？如何在微服务之间传递用户信息？</p><h2 id="_2-定义-feignclient" tabindex="-1"><a class="header-anchor" href="#_2-定义-feignclient"><span>2 定义 FeignClient</span></a></h2><p>在上述业务中，包含大量的微服务调用，将被调用的接口全部定义为FeignClient，将其与对应的DTO放在hm-api模块</p><h2 id="_3-将微服务与前端联调" tabindex="-1"><a class="header-anchor" href="#_3-将微服务与前端联调"><span>3 将微服务与前端联调</span></a></h2><p>课前资料提供了一个<code>hmall-nginx</code>目录，其中包含了Nginx以及我们的前端代码：</p><p><img src="'+s+'" alt="image-20250311111937245"></p><p>将其拷贝到一个不包含中文、空格、特殊字符的目录，启动后即可访问到页面：</p><ul><li>18080是用户端页面</li><li>18081是管理端页面</li></ul><p>之前<code>nginx</code>内部会将发向服务端请求全部代理到8080端口，但是现在拆分了N个微服务，8080不可用了。请通过<code>Nginx</code>配置，完成对不同微服务的反向代理。</p><p><strong>认真思考这种方式存在哪些问题</strong>，<strong>有什么好的解决方案</strong>？</p>',16)]))}const p=i(c,[["render",l]]),d=JSON.parse('{"path":"/docs/Java/Heima/Microservices/Day03_Microservices/1_Microservices/6-Microservices.html","title":"作业","lang":"en-US","frontmatter":{"title":"作业","date":"2025/03/06"},"headers":[{"level":2,"title":"1 拆分微服务","slug":"_1-拆分微服务","link":"#_1-拆分微服务","children":[]},{"level":2,"title":"2 定义 FeignClient","slug":"_2-定义-feignclient","link":"#_2-定义-feignclient","children":[]},{"level":2,"title":"3 将微服务与前端联调","slug":"_3-将微服务与前端联调","link":"#_3-将微服务与前端联调","children":[]}],"filePathRelative":"docs/Java/Heima/Microservices/Day03_Microservices/1_Microservices/6-Microservices.md","git":{"createdTime":1741251281000,"updatedTime":1741753242000,"contributors":[{"name":"lixuan","email":"2789968443@qq.com","commits":2}]}}');export{p as comp,d as data};
