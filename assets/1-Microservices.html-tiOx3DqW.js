import{_ as p,c as l,b as t,a as n,d as e,e as i,r as o,o as r}from"./app-DPwDFWa6.js";const c="/assets/image-20250310143431863-C7E4ib-e.png",d="/assets/image-20250310143440289-9QlzVMnN.png",m="/assets/image-20250310143447847-D7kLnt7B.png",u="/assets/image-20250310143516831-Bj9vVyg5.png",g="/assets/image-20250310143533939-BunzihXJ.png",v="/assets/image-20250310143600983-DVrAKwEy.png",k="/assets/image-20250310143609420-C5WROLZ7.png",h="/assets/image-20250310143616922-uuqHQgOQ.png",b="/assets/image-20250310143623269-DaQQAcYJ.png",w="/assets/image-20250310143631603-DlvxXQ-3.png",x="/assets/image-20250310143640158-CONy14Nd.png",f="/assets/image-20250310143647299-DdvZxIT9.png",_="/assets/image-20250310143716420-CYOlLk2z.png",y="/assets/image-20250310143744145-CWENZrr1.png",M={},L={href:"https://b11et3un53m.feishu.cn/wiki/FJAnwOhpIihMkLkOKQocdWZ7nUc",target:"_blank",rel:"noopener noreferrer"},S={href:"https://b11et3un53m.feishu.cn/wiki/Rfocw7ctXij2RBkShcucLZbrn2d",target:"_blank",rel:"noopener noreferrer"},q={href:"https://www.bilibili.com/video/BV1HP4118797/?share_source=copy_web&vd_source=3362e6914fb759983690e6e0f1072453",target:"_blank",rel:"noopener noreferrer"},D={href:"https://b11et3un53m.feishu.cn/wiki/MWQIw4Zvhil0I5ktPHwcoqZdnec",target:"_blank",rel:"noopener noreferrer"},Q={href:"http://localhost:8080/hi",target:"_blank",rel:"noopener noreferrer"},B={href:"http://localhost:18080",target:"_blank",rel:"noopener noreferrer"};function C(N,s){const a=o("ExternalLinkIcon");return r(),l("div",null,[s[12]||(s[12]=t('<p><img src="https://bizhi1.com/wp-content/uploads/2025/01/my-neighbor-totoro-magic-spell-desktop-wallpaper.jpg" alt="龙猫 魔法咒语桌面壁纸"></p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>1 安装 MySQL</p><p>2 后端</p><p>3 前端</p></div><p>在课前资料中给大家提供了黑马商城项目的资料，我们需要先导入这个单体项目。不过需要注意的是，本篇及后续的微服务学习都是基于Centos7系统下的Docker部署，因此你必须做好一些准备：</p><ul><li>Centos7的环境及一个好用的SSH客户端</li><li>安装好Docker</li><li>会使用Docker</li></ul><p>如果你没有这样的Linux环境，或者不是Centos7的话，那么这里有一篇参考文档：</p>',5)),n("ul",null,[n("li",null,[n("a",L,[s[0]||(s[0]=e("Linux环境搭建")),i(a)])])]),s[13]||(s[13]=n("p",null,"建议按照上面的文档来搭建虚拟机环境，使用其它版本会出现一些环境问题，比较痛苦。",-1)),s[14]||(s[14]=n("p",null,"如果已经有Linux环境，但是没有安装Docker的话，那么这里还有一篇参考文档：",-1)),n("ul",null,[n("li",null,[n("a",S,[s[1]||(s[1]=e("安装Docker")),i(a)])])]),s[15]||(s[15]=n("p",null,"如果不会使用Docker的话可以参考黑马的微服务前置Docker课程，B站地址如下：",-1)),n("p",null,[n("a",q,[s[2]||(s[2]=e("https://www.bilibili.com/video/BV1HP4118797/?share_source=copy_web&vd_source=3362e6914fb759983690e6e0f1072453")),i(a)])]),s[16]||(s[16]=t('<div class="custom-container warning"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8v4"></path><path d="M12 16h.01"></path></g></svg><p class="custom-container-title">WARNING</p><p>注意：</p><p>如果是学习过上面Docker课程的同学，虚拟机中已经有了黑马商城项目及MySQL数据库了，不过为了跟其他同学保持一致，可以先将整个项目移除。使用下面的命令：</p><p>cd /root</p><p>docker compose down</p></div><h2 id="_1-安装-mysql" tabindex="-1"><a class="header-anchor" href="#_1-安装-mysql"><span>1 安装 MySQL</span></a></h2><p>在课前资料提供好了MySQL的一个目录：</p><p><img src="'+c+'" alt="image-20250310143431863"></p><p>其中有MySQL的配置文件和初始化脚本：</p><p><img src="'+d+'" alt="image-20250310143440289"></p><p>我们将其复制到虚拟机的<code>/root</code>目录。如果<code>/root</code>下已经存在<code>mysql</code>目录则删除旧的，如果不存在则直接复制本地的：</p><p><img src="'+m+`" alt="image-20250310143447847"></p><p>然后创建一个通用网络：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create hm-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用下面的命令来安装MySQL：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/data:/var/lib/mysql <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/conf:/etc/mysql/conf.d <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> /root/mysql/init:/docker-entrypoint-initdb.d <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> hm-net<span class="token punctuation">\\</span></span>
<span class="line">  mysql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时，通过命令查看mysql容器：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如图：</p><p><img src="`+u+'" alt="image-20250310143516831"></p><p>发现mysql容器正常运行。</p>',17)),n("blockquote",null,[n("p",null,[s[4]||(s[4]=e("注：图片中的dps命令是我设置的别名，等同于docker ps --format，可以简化命令格式。你可以参考黑马的")),n("a",D,[s[3]||(s[3]=e("day02-Docker")),i(a)]),s[5]||(s[5]=e(" 的2.1.3小节来配置。"))])]),s[17]||(s[17]=t('<p>此时，如果我们使用MySQL的客户端工具连接MySQL，应该能发现已经创建了黑马商城所需要的表：</p><p><img src="'+g+'" alt="image-20250310143533939"></p><h2 id="_2-后端" tabindex="-1"><a class="header-anchor" href="#_2-后端"><span>2 后端</span></a></h2><p>然后是Java代码，在课前资料提供了一个hmall目录：</p><p><img src="'+v+'" alt="image-20250310143600983"></p><p>将其复制到你的工作空间，然后利用Idea打开。</p><p>项目结构如下：</p><p><img src="'+k+'" alt="image-20250310143609420"></p><p>按下<code>ALT</code> + <code>8</code>键打开services窗口，新增一个启动项：</p><p><img src="'+h+'" alt="image-20250310143616922"></p><p>在弹出窗口中鼠标向下滚动，找到<code>Spring Boot</code>:</p><p><img src="'+b+'" alt="image-20250310143623269"></p><p>点击后应该会在services中出现hmall的启动项：</p><p><img src="'+w+'" alt="image-20250310143631603"></p><p>点击对应按钮，即可实现运行或DEBUG运行。</p><p><strong>不过别着急！！</strong></p><p>我们还需要对这个启动项做简单配置，在<code>HMallApplication</code>上点击鼠标右键，会弹出窗口，然后选择<code>Edit Configuration</code>：</p><p><img src="'+x+'" alt="image-20250310143640158"></p><p>在弹出窗口中配置SpringBoot的启动环境为local：</p><p><img src="'+f+'" alt="image-20250310143647299"></p><p>点击OK配置完成。接下来就可以运行了！</p>',21)),n("p",null,[s[7]||(s[7]=e("启动完成后，试试看访问下 ")),n("a",Q,[s[6]||(s[6]=e("http://localhost:8080/hi")),i(a)]),s[8]||(s[8]=e(" 吧！"))]),s[18]||(s[18]=t('<h2 id="_3-前端" tabindex="-1"><a class="header-anchor" href="#_3-前端"><span>3 前端</span></a></h2><p>在课前资料中还提供了一个hmall-nginx的目录：</p><p><img src="'+_+`" alt="image-20250310143716420"></p><p>其中就是一个nginx程序以及我们的前端代码，直接在windows下将其复制到一个非中文、不包含特殊字符的目录下。然后进入hmall-nginx后，利用cmd启动即可：</p><div class="language-powershell line-numbers-mode" data-highlighter="prismjs" data-ext="powershell" data-title="powershell"><pre><code><span class="line"><span class="token comment"># 启动nginx</span></span>
<span class="line"><span class="token function">start</span> nginx<span class="token punctuation">.</span>exe</span>
<span class="line"><span class="token comment"># 停止</span></span>
<span class="line">nginx<span class="token punctuation">.</span>exe <span class="token operator">-</span>s stop</span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line">nginx<span class="token punctuation">.</span>exe <span class="token operator">-</span>s reload</span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line">nginx<span class="token punctuation">.</span>exe <span class="token operator">-</span>s restart</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>特别注意：</p><p>nginx.exe 不要双击启动，而是打开cmd窗口，通过命令行启动。停止的时候也一样要是用命令停止。如果启动失败不要重复启动，而是查看logs目录中的error.log日志，查看是否是端口冲突。如果是端口冲突则自行修改端口解决。</p>`,7)),n("p",null,[s[10]||(s[10]=e("启动成功后，访问")),n("a",B,[s[9]||(s[9]=e("http://localhost:18080")),i(a)]),s[11]||(s[11]=e("，应该能看到我们的门户页面："))]),s[19]||(s[19]=n("p",null,[n("img",{src:y,alt:"image-20250310143744145"})],-1))])}const j=p(M,[["render",C]]),I=JSON.parse('{"path":"/docs/Java/Heima/Microservices/Day03_Microservices/1_Microservices/1-Microservices.html","title":"导入黑马商城项目","lang":"en-US","frontmatter":{"title":"导入黑马商城项目","date":"2025/03/06"},"headers":[{"level":2,"title":"1 安装 MySQL","slug":"_1-安装-mysql","link":"#_1-安装-mysql","children":[]},{"level":2,"title":"2 后端","slug":"_2-后端","link":"#_2-后端","children":[]},{"level":2,"title":"3 前端","slug":"_3-前端","link":"#_3-前端","children":[]}],"filePathRelative":"docs/Java/Heima/Microservices/Day03_Microservices/1_Microservices/1-Microservices.md","git":{"createdTime":1741251281000,"updatedTime":1741654623000,"contributors":[{"name":"lixuan","email":"2789968443@qq.com","commits":2}]}}');export{j as comp,I as data};
