import{_ as s,c as a,b as e,o as p}from"./app-DlQzn5rm.js";const t="/assets/image-20250624152001541-Z6GCw1Ha.png",c="/assets/image-20250624152042669-Dtl617Pa.png",l="data:image/png;base64,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",i="/assets/image-20250624152308352-D4M0NmuB.png",o="/assets/image-20250624152422554-gOO91rWR.png",u={};function d(k,n){return p(),a("div",null,n[0]||(n[0]=[e(`<p><img src="https://bizhi1.com/wp-content/uploads/2024/11/kitten-3840x2160-adorable-cute-minimalist-charming-26375.jpg" alt="小猫 可爱的 可爱的 极简主义者 迷人 好玩的"></p><div class="custom-container tip"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">TIP</p><p>1 新增文档</p><p>2 查询文档</p><p>3 删除文档</p><p>4 修改文档</p><p>5 批量导入文档</p><p>6 小结</p></div><h2 id="_1-新增文档" tabindex="-1"><a class="header-anchor" href="#_1-新增文档"><span>1 新增文档</span></a></h2><p>我们需要将数据库中的商品信息导入elasticsearch中，而不是造假数据了。</p><h3 id="_1-1-实体类" tabindex="-1"><a class="header-anchor" href="#_1-1-实体类"><span>1.1 实体类</span></a></h3><p>索引库结构与数据库结构还存在一些差异，因此我们要定义一个索引库结构对应的实体。</p><p>在<code>hm-service</code>模块的<code>com.hmall.item.domain.dto</code>包中定义一个新的DTO：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>hmall<span class="token punctuation">.</span>item<span class="token punctuation">.</span>domain<span class="token punctuation">.</span>po</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModel</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">LocalDateTime</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Data</span></span>
<span class="line"><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>description <span class="token operator">=</span> <span class="token string">&quot;索引库实体&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ItemDoc</span><span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;商品id&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;商品名称&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;价格（分）&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> price<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;商品图片&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> image<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;类目名称&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> category<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;品牌名称&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">String</span> brand<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;销量&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> sold<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;评论数&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Integer</span> commentCount<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;是否是推广广告，true/false&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> isAD<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span><span class="token string">&quot;更新时间&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> updateTime<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-api-语法" tabindex="-1"><a class="header-anchor" href="#_1-2-api-语法"><span>1.2 API 语法</span></a></h3><p>新增文档的请求语法如下：</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON" data-title="JSON"><pre><code><span class="line">POST /{索引库名}/_doc/1</span>
<span class="line">{</span>
<span class="line">    &quot;name&quot;: &quot;Jack&quot;,</span>
<span class="line">    &quot;age&quot;: 21</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对应的JavaAPI如下：</p><p><img src="`+t+`" alt="image-20250624152001541"></p><p>可以看到与索引库操作的API非常类似，同样是三步走：</p><ul><li>1）创建Request对象，这里是<code>IndexRequest</code>，因为添加文档就是创建倒排索引的过程</li><li>2）准备请求参数，本例中就是Json文档</li><li>3）发送请求</li></ul><p>变化的地方在于，这里直接使用<code>client.xxx()</code>的API，不再需要<code>client.indices()</code>了。</p><h3 id="_1-3-完整代码" tabindex="-1"><a class="header-anchor" href="#_1-3-完整代码"><span>1.3 完整代码</span></a></h3><p>我们导入商品数据，除了参考API模板“三步走”以外，还需要做几点准备工作：</p><ul><li>商品数据来自于数据库，我们需要先查询出来，得到<code>Item</code>对象</li><li><code>Item</code>对象需要转为<code>ItemDoc</code>对象</li><li><code>ItemDTO</code>需要序列化为<code>json</code>格式</li></ul><p>因此，代码整体步骤如下：</p><ul><li>1）根据id查询商品数据<code>Item</code></li><li>2）将<code>Item</code>封装为<code>ItemDoc</code></li><li>3）将<code>ItemDoc</code>序列化为JSON</li><li>4）创建IndexRequest，指定索引库名和id</li><li>5）准备请求参数，也就是JSON文档</li><li>6）发送请求</li></ul><p>在<code>item-service</code>的<code>DocumentTest</code>测试类中，编写单元测试：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">testAddDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1.根据id查询商品数据</span></span>
<span class="line">    <span class="token class-name">Item</span> item <span class="token operator">=</span> itemService<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">100002644680L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2.转换为文档类型</span></span>
<span class="line">    <span class="token class-name">ItemDoc</span> itemDoc <span class="token operator">=</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token class-name">ItemDoc</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 3.将ItemDTO转json</span></span>
<span class="line">    <span class="token class-name">String</span> doc <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toJsonStr</span><span class="token punctuation">(</span>itemDoc<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 1.准备Request对象</span></span>
<span class="line">    <span class="token class-name">IndexRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>itemDoc<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2.准备Json文档</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span>doc<span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 3.发送请求</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-查询文档" tabindex="-1"><a class="header-anchor" href="#_2-查询文档"><span>2 查询文档</span></a></h2><p>我们以根据id查询文档为例</p><h3 id="_2-1-语法说明" tabindex="-1"><a class="header-anchor" href="#_2-1-语法说明"><span>2.1 语法说明</span></a></h3><p>查询的请求语句如下：</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON" data-title="JSON"><pre><code><span class="line">GET /{索引库名}/_doc/{id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>与之前的流程类似，代码大概分2步：</p><ul><li>创建Request对象</li><li>准备请求参数，这里是无参，直接省略</li><li>发送请求</li></ul><p>不过查询的目的是得到结果，解析为ItemDTO，还要再加一步对结果的解析。示例代码如下：</p><p><img src="`+c+`" alt="image-20250624152042669"></p><p>可以看到，响应结果是一个JSON，其中文档放在一个<code>_source</code>属性中，因此解析就是拿到<code>_source</code>，反序列化为Java对象即可。</p><p>其它代码与之前类似，流程如下：</p><ul><li>1）准备Request对象。这次是查询，所以是<code>GetRequest</code></li><li>2）发送请求，得到结果。因为是查询，这里调用<code>client.get()</code>方法</li><li>3）解析结果，就是对JSON做反序列化</li></ul><h3 id="_2-2-完整代码" tabindex="-1"><a class="header-anchor" href="#_2-2-完整代码"><span>2.2 完整代码</span></a></h3><p>在<code>item-service</code>的<code>DocumentTest</code>测试类中，编写单元测试：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">testGetDocumentById</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1.准备Request对象</span></span>
<span class="line">    <span class="token class-name">GetRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GetRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;100002644680&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2.发送请求</span></span>
<span class="line">    <span class="token class-name">GetResponse</span> response <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 3.获取响应结果中的source</span></span>
<span class="line">    <span class="token class-name">String</span> json <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getSourceAsString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">    <span class="token class-name">ItemDoc</span> itemDoc <span class="token operator">=</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toBean</span><span class="token punctuation">(</span>json<span class="token punctuation">,</span> <span class="token class-name">ItemDoc</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;itemDoc= &quot;</span> <span class="token operator">+</span> <span class="token class-name">ItemDoc</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-删除文档" tabindex="-1"><a class="header-anchor" href="#_3-删除文档"><span>3 删除文档</span></a></h2><p>删除的请求语句如下：</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON" data-title="JSON"><pre><code><span class="line">DELETE /hotel/_doc/{id}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>与查询相比，仅仅是请求方式从<code>DELETE</code>变成<code>GET</code>，可以想象Java代码应该依然是2步走：</p><ul><li>1）准备Request对象，因为是删除，这次是<code>DeleteRequest</code>对象。要指定索引库名和id</li><li>2）<img src="`+l+`" alt="image-20250624152217385"></li><li>3）发送请求。因为是删除，所以是<code>client.delete()</code>方法</li></ul><p>在<code>item-service</code>的<code>DocumentTest</code>测试类中，编写单元测试：</p><div class="language-Java line-numbers-mode" data-highlighter="prismjs" data-ext="Java" data-title="Java"><pre><code><span class="line">@Test</span>
<span class="line">void testDeleteDocument() throws IOException {</span>
<span class="line">    // 1.准备Request，两个参数，第一个是索引库名，第二个是文档id</span>
<span class="line">    DeleteRequest request = new DeleteRequest(&quot;item&quot;, &quot;100002644680&quot;);</span>
<span class="line">    // 2.发送请求</span>
<span class="line">    client.delete(request, RequestOptions.DEFAULT);</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-修改文档" tabindex="-1"><a class="header-anchor" href="#_4-修改文档"><span>4 修改文档</span></a></h2><p>修改我们讲过两种方式：</p><ul><li>全量修改：本质是先根据id删除，再新增</li><li>局部修改：修改文档中的指定字段值</li></ul><p>在RestClient的API中，全量修改与新增的API完全一致，判断依据是ID：</p><ul><li>如果新增时，ID已经存在，则修改</li><li>如果新增时，ID不存在，则新增</li></ul><p>这里不再赘述，我们主要关注局部修改的API即可。</p><h3 id="_4-1-语法说明" tabindex="-1"><a class="header-anchor" href="#_4-1-语法说明"><span>4.1 语法说明</span></a></h3><p>局部修改的请求语法如下：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line">POST /<span class="token punctuation">{</span>索引库名<span class="token punctuation">}</span>/_update/<span class="token punctuation">{</span>id<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;doc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;字段名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;字段值&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;字段名&quot;</span><span class="token operator">:</span> <span class="token string">&quot;字段值&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码示例如图：</p><p><img src="`+i+`" alt="image-20250624152308352"></p><p>与之前类似，也是三步走：</p><ul><li>1）准备<code>Request</code>对象。这次是修改，所以是<code>UpdateRequest</code></li><li>2）准备参数。也就是JSON文档，里面包含要修改的字段</li><li>3）更新文档。这里调用<code>client.update()</code>方法</li></ul><h3 id="_4-2-完整代码" tabindex="-1"><a class="header-anchor" href="#_4-2-完整代码"><span>4.2 完整代码</span></a></h3><p>在<code>item-service</code>的<code>DocumentTest</code>测试类中，编写单元测试：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">testUpdateDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1.准备Request</span></span>
<span class="line">    <span class="token class-name">UpdateRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UpdateRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;100002644680&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2.准备请求参数</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">doc</span><span class="token punctuation">(</span></span>
<span class="line">            <span class="token string">&quot;price&quot;</span><span class="token punctuation">,</span> <span class="token number">58800</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;commentCount&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 3.发送请求</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-批量导入文档" tabindex="-1"><a class="header-anchor" href="#_5-批量导入文档"><span>5 批量导入文档</span></a></h2><p>在之前的案例中，我们都是操作单个文档。而数据库中的商品数据实际会达到数十万条，某些项目中可能达到数百万条。</p><p>我们如果要将这些数据导入索引库，肯定不能逐条导入，而是采用批处理方案。常见的方案有：</p><ul><li>利用Logstash批量导入 <ul><li>需要安装Logstash</li><li>对数据的再加工能力较弱</li><li>无需编码，但要学习编写Logstash导入配置</li></ul></li><li>利用JavaAPI批量导入 <ul><li>需要编码，但基于JavaAPI，学习成本低</li><li>更加灵活，可以任意对数据做再加工处理后写入索引库</li></ul></li></ul><p>接下来，我们就学习下如何利用JavaAPI实现批量文档导入。</p><h3 id="_5-1-语法说明" tabindex="-1"><a class="header-anchor" href="#_5-1-语法说明"><span>5.1 语法说明</span></a></h3><p>批处理与前面讲的文档的CRUD步骤基本一致：</p><ul><li>创建Request，但这次用的是<code>BulkRequest</code></li><li>准备请求参数</li><li>发送请求，这次要用到<code>client.bulk()</code>方法</li></ul><p><code>BulkRequest</code>本身其实并没有请求参数，其本质就是将多个普通的CRUD请求组合在一起发送。例如：</p><ul><li>批量新增文档，就是给每个文档创建一个<code>IndexRequest</code>请求，然后封装到<code>BulkRequest</code>中，一起发出。</li><li>批量删除，就是创建N个<code>DeleteRequest</code>请求，然后封装到<code>BulkRequest</code>，一起发出</li></ul><p>因此<code>BulkRequest</code>中提供了<code>add</code>方法，用以添加其它CRUD的请求：</p><p><img src="`+o+`" alt="image-20250624152422554"></p><p>可以看到，能添加的请求有：</p><ul><li><code>IndexRequest</code>，也就是新增</li><li><code>UpdateRequest</code>，也就是修改</li><li><code>DeleteRequest</code>，也就是删除</li></ul><p>因此Bulk中添加了多个<code>IndexRequest</code>，就是批量新增功能了。示例：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">testBulk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1.创建Request</span></span>
<span class="line">    <span class="token class-name">BulkRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 2.准备请求参数</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token string">&quot;json doc1&quot;</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token string">&quot;json doc2&quot;</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">// 3.发送请求</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-完整代码" tabindex="-1"><a class="header-anchor" href="#_5-2-完整代码"><span>5.2 完整代码</span></a></h3><p>当我们要导入商品数据时，由于商品数量达到数十万，因此不可能一次性全部导入。建议采用循环遍历方式，每次导入1000条左右的数据。</p><p><code>item-service</code>的<code>DocumentTest</code>测试类中，编写单元测试：</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">void</span> <span class="token function">testLoadItemDocs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 分页查询商品数据</span></span>
<span class="line">    <span class="token keyword">int</span> pageNo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> itemService<span class="token punctuation">.</span><span class="token function">lambdaQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token class-name">Item</span><span class="token operator">::</span><span class="token function">getStatus</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>pageNo<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 非空校验</span></span>
<span class="line">        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Item</span><span class="token punctuation">&gt;</span></span> items <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CollUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;加载第{}页数据，共{}条&quot;</span><span class="token punctuation">,</span> pageNo<span class="token punctuation">,</span> items<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 1.创建Request</span></span>
<span class="line">        <span class="token class-name">BulkRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BulkRequest</span><span class="token punctuation">(</span><span class="token string">&quot;items&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// 2.准备参数，添加多个新增的Request</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Item</span> item <span class="token operator">:</span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 2.1.转换为文档类型ItemDTO</span></span>
<span class="line">            <span class="token class-name">ItemDoc</span> itemDoc <span class="token operator">=</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">copyProperties</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token class-name">ItemDoc</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">// 2.2.创建新增文档的Request对象</span></span>
<span class="line">            request<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IndexRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span>itemDoc<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">source</span><span class="token punctuation">(</span><span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toJsonStr</span><span class="token punctuation">(</span>itemDoc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">XContentType</span><span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">// 3.发送请求</span></span>
<span class="line">        client<span class="token punctuation">.</span><span class="token function">bulk</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token class-name">RequestOptions</span><span class="token punctuation">.</span><span class="token constant">DEFAULT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 翻页</span></span>
<span class="line">        pageNo<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-小结" tabindex="-1"><a class="header-anchor" href="#_6-小结"><span>6 小结</span></a></h2><p>文档操作的基本步骤：</p><ul><li>初始化<code>RestHighLevelClient</code></li><li>创建XxxRequest。 <ul><li>XXX是<code>Index</code>、<code>Get</code>、<code>Update</code>、<code>Delete</code>、<code>Bulk</code></li></ul></li><li>准备参数（<code>Index</code>、<code>Update</code>、<code>Bulk</code>时需要）</li><li>发送请求。 <ul><li>调用<code>RestHighLevelClient#.xxx()</code>方法，xxx是<code>index</code>、<code>get</code>、<code>update</code>、<code>delete</code>、<code>bulk</code></li></ul></li><li>解析结果（<code>Get</code>时需要）</li></ul>`,84)]))}const m=s(u,[["render",d]]),v=JSON.parse('{"path":"/docs/Java/Heima/Microservices/Day08_Elasticsearch/5-Elasticsearch.html","title":"RestClient操作文档","lang":"en-US","frontmatter":{"title":"RestClient操作文档","date":"2025/03/06"},"headers":[{"level":2,"title":"1 新增文档","slug":"_1-新增文档","link":"#_1-新增文档","children":[{"level":3,"title":"1.1 实体类","slug":"_1-1-实体类","link":"#_1-1-实体类","children":[]},{"level":3,"title":"1.2 API 语法","slug":"_1-2-api-语法","link":"#_1-2-api-语法","children":[]},{"level":3,"title":"1.3 完整代码","slug":"_1-3-完整代码","link":"#_1-3-完整代码","children":[]}]},{"level":2,"title":"2 查询文档","slug":"_2-查询文档","link":"#_2-查询文档","children":[{"level":3,"title":"2.1 语法说明","slug":"_2-1-语法说明","link":"#_2-1-语法说明","children":[]},{"level":3,"title":"2.2 完整代码","slug":"_2-2-完整代码","link":"#_2-2-完整代码","children":[]}]},{"level":2,"title":"3 删除文档","slug":"_3-删除文档","link":"#_3-删除文档","children":[]},{"level":2,"title":"4 修改文档","slug":"_4-修改文档","link":"#_4-修改文档","children":[{"level":3,"title":"4.1  语法说明","slug":"_4-1-语法说明","link":"#_4-1-语法说明","children":[]},{"level":3,"title":"4.2  完整代码","slug":"_4-2-完整代码","link":"#_4-2-完整代码","children":[]}]},{"level":2,"title":"5 批量导入文档","slug":"_5-批量导入文档","link":"#_5-批量导入文档","children":[{"level":3,"title":"5.1 语法说明","slug":"_5-1-语法说明","link":"#_5-1-语法说明","children":[]},{"level":3,"title":"5.2 完整代码","slug":"_5-2-完整代码","link":"#_5-2-完整代码","children":[]}]},{"level":2,"title":"6 小结","slug":"_6-小结","link":"#_6-小结","children":[]}],"filePathRelative":"docs/Java/Heima/Microservices/Day08_Elasticsearch/5-Elasticsearch.md","git":{"createdTime":1741251281000,"updatedTime":1750752221000,"contributors":[{"name":"lixuan","email":"2789968443@qq.com","commits":2}]}}');export{m as comp,v as data};
